# 命令
GroovyとSwingを使用して、以下の仕様を満たす「ファイル収集ツール (FileCollector)」のソースコードを作成してください。
クラスは `FileCollector` (mainメソッド) と `FileCollectorFrame` (UI) で構成してください。

# 技術スタック
- 言語: Groovy
- UIフレームワーク: Java Swing
- レイアウト: GridBagLayout (フォーム部), BorderLayout, JSplitPane

# 機能要件

1. **基本設定**
   - UIのフォントを一括で少し大きくするユーティリティメソッド (`setUIFontScaleSize`) を実装し、起動時に適用すること。
   - `UIManager`でシステムルックアンドフィールを設定すること。

2. **UI構成**
   - **上部フォームエリア (GridBagLayout)**
     - **対象フォルダ**: `JComboBox` (編集可能)。履歴機能を持ち、履歴は `~/.filecollector-history.txt` に保存・読み込みを行う。参照ボタンでフォルダ選択ダイアログを開く。
     - **Tree出力**: ボタン配置。対象フォルダの構造をテキストツリー形式で生成する機能。
     - **抽出条件**: `JTextArea` (スクロール可)。globパターンを複数行入力可能にする。
     - **拡張子追加文字**: `JTextField`。ファイル出力時にファイル名の末尾（拡張子の後ろ）に付与する文字列（例: ".txt"など）。
     - **操作ボタン**:
       - 「抽出」ボタン (検索実行)
       - 「ファイル出力」ボタン (抽出されたファイルを指定場所にコピー)
       - 「既存ファイル削除」チェックボックス (出力前に出力先フォルダを空にするか)

   - **中央エリア (JSplitPane)**
     - 上部: `JList` (抽出結果のファイル一覧を表示)。選択した項目をリストから削除する「選択削除」ボタンをヘッダに配置。
     - 下部: `JTextArea` (ログ出力用)。処理の経過を表示。

3. **処理ロジック仕様**
   - **検索処理 (`doSearch`)**:
     - UIフリーズ防止のため、別スレッド (`Thread`) で実行すること。
     - 入力されたglobパターンを使用し、`Files.walk` で再帰的にファイルを検索する。
     - 独自仕様: パターン内の `/.../` や `...` は `**` (再帰的ワイルドカード) として置換・正規化して扱うこと。
   - **ファイル出力処理 (`doCopyFilesToFolder` というメソッド名で実装)**:
     - 抽出されたファイルを `user.home/FileCollector` フォルダにコピーする。
     - フォルダ階層はフラットにする（すべてのファイルを直下に置く）。
     - 同名ファイルが存在する場合は、ファイル名に連番 (`_2`, `_3`) を付与して重複を回避する。
     - 入力された「拡張子追加文字」をファイル名に付与する。
     - 処理完了後、`Desktop` クラスを使って出力先フォルダを開く。
   - **Tree出力処理**:
     - 対象フォルダ以下のディレクトリ構造を `├──` や `└──` を使ったテキスト形式で生成する。
     - 結果を `user.home/FileCollector/[フォルダ名]_tree.txt` に保存し、フォルダを開く。

4. **その他の要件**
   - インポート文を適切に記述すること。
   - コードには日本語でコメントを記述すること。
